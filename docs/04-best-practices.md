# 모범 사례

## 1. Teammate에게 충분한 컨텍스트 제공

Teammates는 프로젝트 context(CLAUDE.md, MCP servers, skills)를 자동으로 로드하지만, **Lead의 대화 이력은 공유되지 않습니다.**

spawn 프롬프트에 작업 관련 세부사항을 포함하세요:

```
보안 리뷰 teammate를 생성해줘. 프롬프트:
"src/auth/ 인증 모듈의 보안 취약점을 리뷰해줘.
JWT 토큰은 httpOnly 쿠키에 저장됨.
토큰 핸들링, 세션 관리, 입력 검증에 집중.
심각도 등급과 함께 이슈를 보고해줘."
```

## 2. 적절한 작업 크기

| 크기 | 문제 | 예시 |
|------|------|------|
| 너무 작음 | 조정 오버헤드 > 이점 | "변수 이름 하나 바꿔줘" |
| 너무 큼 | 체크인 없이 오래 작업 → 낭비 위험 | "전체 앱 리팩토링해줘" |
| 적당함 | 자체 완결, 명확한 산출물 | "함수 하나", "테스트 파일 하나", "리뷰 보고서 하나" |

Teammate당 **5-6개 Task**가 적당합니다. 모든 팀원이 바쁘게 유지되고, 막히면 Lead가 재배치할 수 있습니다.

## 3. Teammates가 끝날 때까지 대기

Lead가 teammate를 기다리지 않고 직접 구현을 시작하는 경우가 있습니다:

```
Teammates가 작업을 완료할 때까지 기다린 후 진행해줘.
```

## 4. 파일 충돌 방지

**두 teammate가 같은 파일을 수정하면 덮어쓰기가 발생합니다.**

작업을 분배할 때 각 teammate가 다른 파일 세트를 소유하도록 명확히 나누세요:

```
- Frontend teammate: src/components/ 폴더만 수정
- Backend teammate: src/api/ 폴더만 수정
- Test teammate: tests/ 폴더만 수정
```

## 5. 모니터링과 방향 조정

팀을 오래 방치하면 낭비 위험이 증가합니다:

- 주기적으로 teammate 진행 상황 확인
- 효과 없는 접근 방식은 방향 전환 지시
- 결과가 들어올 때마다 종합

## 6. 리서치/리뷰부터 시작

Agent Teams가 처음이라면 **코드 수정 없는 작업**으로 시작하세요:

- PR 리뷰
- 라이브러리 리서치
- 버그 조사

코드 수정이 없으면 파일 충돌 걱정 없이 병렬 탐색의 가치를 확인할 수 있습니다.

## 7. 비용 효율적 사용

| 전략 | 설명 |
|------|------|
| 팀 크기 제한 | 2-3명으로 시작. 5명 이상은 비용 대비 효과 낮음 |
| 짧은 작업 | 리서치/리뷰는 빠르게 끝남 → 토큰 적음 |
| 필요할 때만 | 평소엔 Subagent, 복잡한 작업에만 Teams |
| 즉시 비활성화 | 환경변수 제거하면 추가 비용 0 |

## 8. CLAUDE.md 활용

Teammates도 프로젝트의 `CLAUDE.md`를 읽습니다. 팀 작업 가이드라인을 추가하면 모든 teammate에게 적용됩니다:

```markdown
## Agent Teams 가이드라인
- 같은 파일 수정 금지
- Plan approval 필수
- 한국어로 커뮤니케이션
```
